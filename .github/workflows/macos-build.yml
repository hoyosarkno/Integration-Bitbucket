name: MacOS Build

on:
  workflow_dispatch:  # Permite ejecución manual
  repository_dispatch:  # Recibe el webhook de Bitbucket
    types: [bitbucket_trigger]
  push:
    branches:
      - main
      - develop  # Solo se ejecuta en estas ramas

jobs:
  build:
    runs-on: macos-latest
    steps:
      - name: Checkout código desde Bitbucket
        run: |
          echo "Voy a clonar el repo"
          git clone --depth 1 https://x-token-auth:${{ secrets.BITBUCKET_ACCESS_TOKEN }}@bitbucket.org/svillaquiral/appprovandroid.git
          cd appprovandroid
          

      - name: Ejecutar pruebas en macOS
        run: |
          echo "Ejecutando pruebas en MacOS"
